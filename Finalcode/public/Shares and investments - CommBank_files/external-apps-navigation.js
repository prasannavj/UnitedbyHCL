!function(e){function t(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t){e.exports=jQuery},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(6);var s=i(10);new s.default(".footer-module #scrollTrigger")},function(e,t,i){"use strict";(function(e){function t(e,t,s,n){var o="/search/searchresults.html";if(e=e.replace(/[^a-zA-Z0-9]/g,"").match(/\d{7}/)?e.replace(/\d/g,"X"):e,o+="?query="+encodeURIComponent(e),o+=t?"&filter="+t:"",void 0===s){var r=i(window.location.href);r.querystring.site&&(o+="&site="+r.querystring.site)}else""!==s&&null!==s&&(o+="&site="+s);o+=n?n:"",window.location=o}function i(e){var t=document.createElement("a");t.setAttribute("href",e);var i={protocol:t.protocol,host:t.hostname,path:t.pathname,querystring:t.search.match(/(([^=\?&]+)=?([^&]+)?)/g),hash:t.hash};"80"!==t.port&&"443"!==t.port&&(i.port=t.port);var s={};for(var n in i.querystring)if(!isNaN(n)){var o=i.querystring[n].match(/([^=]+)=?(.*)?/);o&&(s[o[1]]=o[2])}return i.querystring=s,i}function s(e,t,i){void 0===i&&(i=!0),void 0===t&&(t=!0);var s="";i&&(s+=e.protocol+"//"),s+=e.host,e.port&&"0"!==e.port&&(s+=":"+e.port),s+=("/"+e.path).replace("//","/");var n=0;for(var o in e.querystring)s+=0===n?"?":"&",s+=void 0!==e.querystring[o]?o+"="+e.querystring[o]:o,n++;return t&&(s+=e.hash),s}e.widget("custom.autocompleteheader",e.ui.autocomplete,{options:{tracking:"",collection:"commbank_all",limit:10,format:"os",frontend:"cbav2",filter:"",source:function(t,n,o,r,l,a,h){if(t.term=t.term.trim(),0!=t.term.length){var c=t.term.match(/\d/g);c&&c.length>=7&&(t.term=t.term.replace(/\d/g,"X"));var u=search_service+"suggestions";e.ajax({url:u,dataType:"jsonp",data:{query:t.term,limit:o,format:a,collection:r,frontend:h},success:function(o){var r=0,a=0,h=o.results||o.suggestions;h=e.map(h,function(e){if("string"==typeof e&&(e={type:"suggest",name:e}),"suggest"===e.type){if(++r>5)return;var n=l?l:"gsa_autosuggest_{count}_{term}";return n=n.replace("{count}",r),n=n.replace("{term}",t.term.replace(/\s/g,"-")),{type:e.type,label:e.name,value:e.name,query:o.query,tracking:n}}if("uar"===e.type){if(++a>2)return;e.moreDetailsUrl=e.moreDetailsUrl.toString().replace(/\\x3d/g,"=");var h=i(e.moreDetailsUrl);h.querystring.ei="gsa_autorecommend_"+a+"_"+t.term.replace(/\s/g,"-");var c=s(h);return{type:e.type,label:e.content,query:c}}}),h=h.sort(function(e,t){return"suggest"===e.type&&"suggest"!==t.type?1:-1}),n(h)}})}},open:function(){e(".ui-autocomplete").off("menufocus");var t=e(this).data().customAutocompleteheader.menu.activeMenu.eq(0),i=parseInt(t.css("top").replace(/(px)/g,""));t.css("top",i+20+"px");var s=!1;t.find(".search-result").on("touchmove",function(){s=!0}),t.find(".search-result").on("touchend",function(){s||(window.location.href=e(this).children("a").attr("href")),s=!1}),0===t.find(".search-result").length?t.addClass("hideSuggested"):t.removeClass("hideSuggested")},select:function(t,i){"uar"===i.item.type?i.item.value="":e(this).val(i.item.value),e(this).data().customAutocompleteheader.submitSearch(i.item)}},_renderMenu:function(t,i){var s=e('<span class="sResultsArrow"/>');s.data("ui-autocomplete-item",{value:""});var n=e('<span class="sResultsArrowBorder"/>');n.data("ui-autocomplete-item",{value:""}),t.append(n,s),t.addClass("ui-autocomplete ui-front sResultsParent ui-menu ui-widget ui-widget-content ui-corner-all");var o=this,r=0,l=0;e.each(i,function(i,s){if("suggest"==s.type){if(0==r){var n=e('<li class="search-result-header" style="border-top: none;">').text("Suggested Searches:").appendTo(t);n.data("ui-autocomplete-item",{value:""}),t.append(n)}r++}else if("uar"==s.type){if(0==l){var n=e('<li class="search-result-header">').text("Recommended Results:").appendTo(t);n.data("ui-autocomplete-item",{value:""}),t.append(n)}l++}o._renderItemData(t,s)})},_renderItem:function(t,i){return"suggest"==i.type?(this.options.filter&&(i.filter=this.options.filter),this.renderSuggest(t,i)):"uar"==i.type?this.renderUAR(t,i):e("<li>").text(i.label).appendTo(t)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response(),this.options.limit,this.options.collection,this.options.tracking,this.options.format,this.options.frontend)},renderSuggest:function(t,i){var s=i.label.replace(i.query,"<b>"+i.query+"</b>"),n="/search/searchresults.html";n+="?query="+encodeURIComponent(i.label),n+="&ei="+i.tracking,i.filter&&(n+="&filter="+i.filter);var o="";return"undefined"!=typeof gsaUrl&&(o=gsaUrl("results",i.label,NIMBUS.SearchResults.collection,NIMBUS.SearchResults.filter),o=' href="'+o+'"'),e('<li class="search-result update_results"'+o+">").append('<a href="'+n+'">'+s+"</a>").appendTo(t)},renderUAR:function(t,i){i=this.splitResult(i),i.paragraph=this.createParagraphs(i.paragraph),i.img?i.img=this.fixImgEncoding(i.img):i.img="";var s="";return s+="<table>",s+="<tr>",s+='<a class="ui-corner-all" href="'+i.query+'">'+i.img+"</a>",s+="<td>",s+='<a class="ui-corner-all" href="'+i.query+'">'+i.paragraph+"</a>",s+="</td>",s+='<td class="search-arrow-right">',s+='<i class="icon-arrow-right">',s+="</td>",s+="</tr>",s+="</table>",e('<li class="search-recommended-result">').append(s).appendTo(t)},splitResult:function(e){e.paragraph=[];var t=e.label.split("#");return 1==t.length?e.paragraph.push(t[0]):2==t.length?(e.paragraph.push(t[0]),e.paragraph.push(t[1])):3==t.length&&(e.img=t[0],e.paragraph.push(t[1]),e.paragraph.push(t[2])),e},createParagraphs:function(e){var t="";return 1==e.length?(e[0]=e[0].replace(/\\x(\d+)/g,"&#x$1;"),t+='<p class="search-first-paragraph">'+e[0]+"</p>"):2==e.length&&(e[0]=e[0].replace(/\\x(\d+)/g,"&#x$1;"),t+='<p class="search-first-paragraph">'+e[0]+"</p>",e[1]=e[1].replace(/\\x(\d+)/g,"&#x$1;"),t+='<p class="search-last-paragraph">'+e[1]+"</p>"),t},fixImgEncoding:function(t){if("\\x3cimg src\\x3d\\x27\\x27 /\\x3e"==t)return"";var i=document.createElement("div");return i.innerHTML=t.replace(/\\x/g,"&#x"),i.firstChild.nodeValue,'<td class="search-image">'+e.text(i)+"</td>"},submitSearch:function(e,i){"uar"===e.type?window.location.href=e.query:t(e.value,i,null,"&ei="+e.tracking)}})}).call(t,i(0))},function(e,t,i){"use strict";var s,n,o;!function(r){n=[i(0)],s=r,void 0!==(o="function"==typeof s?s.apply(t,n):s)&&(e.exports=o)}(function(e){e.ui=e.ui||{};var t=(e.ui.version="1.12.1",0),i=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,o,r,l={},a=t.split(".")[0];t=t.split(".")[1];var h=a+"-"+t;return s||(s=i,i=e.Widget),e.isArray(s)&&(s=e.extend.apply(null,[{}].concat(s))),e.expr[":"][h.toLowerCase()]=function(t){return!!e.data(t,h)},e[a]=e[a]||{},n=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,n,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){if(!e.isFunction(s))return void(l[t]=s);l[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=o,t}}()}),o.prototype=e.widget.extend(r,{widgetEventPrefix:n?r.widgetEventPrefix||t:t},l,{constructor:o,namespace:a,widgetName:t,widgetFullName:h}),n?(e.each(n._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var s,n,o=i.call(arguments,1),r=0,l=o.length;r<l;r++)for(s in o[r])n=o[r][s],o[r].hasOwnProperty(s)&&void 0!==n&&(e.isPlainObject(n)?t[s]=e.isPlainObject(t[s])?e.widget.extend({},t[s],n):e.widget.extend({},n):t[s]=n);return t},e.widget.bridge=function(t,s){var n=s.prototype.widgetFullName||t;e.fn[t]=function(o){var r="string"==typeof o,l=i.call(arguments,1),a=this;return r?this.length||"instance"!==o?this.each(function(){var i,s=e.data(this,n);return"instance"===o?(a=s,!1):s?e.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,l),i!==s&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):a=void 0:(l.length&&(o=e.widget.extend.apply(null,[o].concat(l))),this.each(function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new s(o,this))})),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,o,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},s=t.split("."),t=s.shift(),s.length){for(n=r[t]=e.widget.extend({},this.options[t]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,s,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(s=e(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,o){var r,l;for(l=0;l<i.length;l++)r=n.classesElementLookup[i[l]]||e(),r=e(t.add?e.unique(r.get().concat(t.element.get())):r.not(t.element).get()),n.classesElementLookup[i[l]]=r,s.push(i[l]),o&&t.classes[i[l]]&&s.push(t.classes[i[l]])}var s=[],n=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(s,n){e.inArray(t.target,n)!==-1&&(i.classesElementLookup[s]=e(n.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof e||null===e,o={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(t,i,s){var n,o=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,r){function l(){if(t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||e.guid++);var a=s.match(/^([\w:-]*)\s*(.*)$/),h=a[1]+o.eventNamespace,c=a[2];c?n.on(h,c,l):i.on(h,l)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,s){var n,o,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,o){"string"==typeof n&&(n={effect:n});var r,l=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[l]?s[t](n):l!==t&&s[l]?s[l](n.duration,n.easing,o):s.queue(function(i){e(this)[t](),o&&o.call(s[0]),i()})}});e.widget;!function(){function t(e,t,i){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var n,o=Math.max,r=Math.abs,l=/left|center|right/,a=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),t=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:s||n?{left:0,top:0}:e(t).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=e.extend({},n);var u,p,f,_,m,g,v=e(n.of),b=e.position.getWithinInfo(n.within),y=e.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),x={};return g=s(v),v[0].preventDefault&&(n.at="left top"),p=g.width,f=g.height,_=g.offset,m=e.extend({},_),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",e=h.exec(i[0]),t=h.exec(i[1]),x[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=t(x.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,l,a=e(this),h=a.outerWidth(),c=a.outerHeight(),d=i(this,"marginLeft"),g=i(this,"marginTop"),k=h+d+i(this,"marginRight")+y.width,C=c+g+i(this,"marginBottom")+y.height,T=e.extend({},m),L=t(x.my,a.outerWidth(),a.outerHeight());"right"===n.my[0]?T.left-=h:"center"===n.my[0]&&(T.left-=h/2),"bottom"===n.my[1]?T.top-=c:"center"===n.my[1]&&(T.top-=c/2),T.left+=L[0],T.top+=L[1],s={marginLeft:d,marginTop:g},e.each(["left","top"],function(t,i){e.ui.position[w[t]]&&e.ui.position[w[t]][i](T,{targetWidth:p,targetHeight:f,elemWidth:h,elemHeight:c,collisionPosition:s,collisionWidth:k,collisionHeight:C,offset:[u[0]+L[0],u[1]+L[1]],my:n.my,at:n.at,within:b,elem:a})}),n.using&&(l=function(e){var t=_.left-T.left,i=t+p-h,s=_.top-T.top,l=s+f-c,u={target:{element:v,left:_.left,top:_.top,width:p,height:f},element:{element:a,left:T.left,top:T.top,width:h,height:c},horizontal:i<0?"left":t>0?"right":"center",vertical:l<0?"top":s>0?"bottom":"middle"};p<h&&r(t+i)<p&&(u.horizontal="center"),f<c&&r(s+l)<f&&(u.vertical="middle"),o(r(t),r(i))>o(r(s),r(l))?u.important="horizontal":u.important="vertical",n.using.call(this,e,u)}),a.offset(e.extend(T,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,r=s.width,l=e.left-t.collisionPosition.marginLeft,a=n-l,h=l+t.collisionWidth-r-n;t.collisionWidth>r?a>0&&h<=0?(i=e.left+a+t.collisionWidth-r-n,e.left+=a-i):e.left=h>0&&a<=0?n:a>h?n+r-t.collisionWidth:n:a>0?e.left+=a:h>0?e.left-=h:e.left=o(e.left-l,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,r=t.within.height,l=e.top-t.collisionPosition.marginTop,a=n-l,h=l+t.collisionHeight-r-n;t.collisionHeight>r?a>0&&h<=0?(i=e.top+a+t.collisionHeight-r-n,e.top+=a-i):e.top=h>0&&a<=0?n:a>h?n+r-t.collisionHeight:n:a>0?e.top+=a:h>0?e.top-=h:e.top=o(e.top-l,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,o=n.offset.left+n.scrollLeft,l=n.width,a=n.isWindow?n.scrollLeft:n.offset.left,h=e.left-t.collisionPosition.marginLeft,c=h-a,u=h+t.collisionWidth-l-a,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((i=e.left+d+p+f+t.collisionWidth-l-o)<0||i<r(c))&&(e.left+=d+p+f):u>0&&((s=e.left-t.collisionPosition.marginLeft+d+p+f-a)>0||r(s)<u)&&(e.left+=d+p+f)},top:function e(t,i){var s,n,o=i.within,l=o.offset.top+o.scrollTop,a=o.height,h=o.isWindow?o.scrollTop:o.offset.top,c=t.top-i.collisionPosition.marginTop,u=c-h,d=c+i.collisionHeight-a-h,e="top"===i.my[1],p=e?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,_=-2*i.offset[1];u<0?((n=t.top+p+f+_+i.collisionHeight-a-l)<0||n<r(u))&&(t.top+=p+f+_):d>0&&((s=t.top-i.collisionPosition.marginTop+p+f+_-h)>0||r(s)<d)&&(t.top+=p+f+_)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();e.ui.position,e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),s=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),s=e(t.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,s,n,o,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,s=this.previousFilter||"",o=!1,n=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,s,n,o,r=this,l=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),s=e("<span>").data("ui-menu-submenu-caret",!0);r._addClass(s,"ui-menu-icon","ui-icon "+l),i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,s,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,o,r,l;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),l=t.outerHeight(),n<0?this.activeMenu.scrollTop(o+n):n+l>r&&this.activeMenu.scrollTop(o+n-r+l))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;if(!this.active)return void this.next(t);this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s-n<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(t){var i,s,n;if(!this.active)return void this.next(t);this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}});e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,r="input"===n;this.isMultiLine=o||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,void(i=!0);t=!1,s=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var s,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(s=i.item.attr("aria-label")||n.value)&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion))},menuselect:function(t,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",t,{item:s})&&this._value(s.value),this.term=this._value(),this.close(t),this.selectedItem=s}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||s)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}});e.ui.autocomplete})},function(e,t,i){(function(e){(function(){var t,i,s,n,o,r=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty,a=function(e,t){function i(){this.constructor=e}for(var s in t)l.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};n=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,n,o,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),o=e.childNodes,r=[],s=0,n=o.length;s<n;s++)i=o[s],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}(),n.select_to_array=function(e){var t,i,s,o,r;for(i=new n,r=e.childNodes,s=0,o=r.length;s<o;s++)t=r[s],i.add_node(t);return i.parsed},i=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},this.label_click_handler=r(this.label_click_handler,this),e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},e.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},e.prototype.results_option_build=function(e){var t,i,s,n,o,r,l;for(t="",n=0,l=this.results_data,o=0,r=l.length;o<r&&(i=l[o],s="",s=i.group?this.result_add_group(i):this.result_add_option(i),""!==s&&(n++,t+=s),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(n>=this.max_shown_results));o++);return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,i,s,n;for(s=this.results_data,n=[],t=0,i=s.length;t<i;t++)e=s[t],e.selected?n.push(e.selected=!1):n.push(void 0);return n},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,s,n,o,r,l,a,h,c,u;for(this.no_results_clear(),n=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=this.get_search_regex(e),t=this.get_highlight_regex(e),u=this.results_data,h=0,c=u.length;h<c;h++)i=u[h],i.search_match=!1,o=null,this.include_option_in_results(i)&&(i.group&&(i.group_match=!1,i.active_options=0),null!=i.group_array_index&&this.results_data[i.group_array_index]&&(o=this.results_data[i.group_array_index],0===o.active_options&&o.search_match&&(n+=1),o.active_options+=1),i.search_text=i.group?i.label:i.html,i.group&&!this.group_search||(i.search_match=this.search_string_match(i.search_text,s),i.search_match&&!i.group&&(n+=1),i.search_match?(r.length&&(l=i.search_text.search(t),a=i.search_text.substr(0,l+r.length)+"</em>"+i.search_text.substr(l+r.length),i.search_text=a.substr(0,l)+"<em>"+a.substr(l)),null!=o&&(o.group_match=!0)):null!=i.group_array_index&&this.results_data[i.group_array_index].search_match&&(i.search_match=!0)));return this.result_clear_highlight(),n<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t,i;return t=this.search_contains?"":"^",i=this.case_sensitive_search?"":"i",new RegExp(t+e,i)},e.prototype.get_highlight_regex=function(e){var t,i;return t=this.search_contains?"":"\\b",i=this.case_sensitive_search?"":"i",new RegExp(t+e,i)},e.prototype.search_string_match=function(e,t){var i,s,n,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(s=e.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,o=s.length;n<o;n++)if(i=s[n],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,t=0,i=s.length;t<i;t++)e=s[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;if(!this.is_disabled)return setTimeout(function(){return t.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},e.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},e.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+e+"</span>\n</li>"},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t=e,t.fn.extend({chosen:function(e){return i.browser_is_supported()?this.each(function(i){var n,o;if(n=t(this),o=n.data("chosen"),"destroy"===e)return void(o instanceof s&&o.destroy());o instanceof s||n.data("chosen",new s(this,e))}):this}}),s=function(e){function i(){return o=i.__super__.constructor.apply(this,arguments)}return a(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){e.container_mousedown(t)}),this.container.bind("touchend.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.close_field(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.unbind("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_field)},i.prototype.container_mousedown=function(e){var i;if(!this.is_disabled)return!e||"mousedown"!==(i=e.type)&&"touchstart"!==i||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},i.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},i.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,s,n,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=s+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),(t=i+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(t-s>0?t-s:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},i.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",this.label_click_handler)},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,s,n=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(e){return n.choice_destroy_link_click(e)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)||(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_field_value=function(){return this.search_field.val()},i.prototype.get_search_text=function(){return this.escape_html(t.trim(this.get_search_field_value()))},i.prototype.escape_html=function(e){return t("<div/>").text(e).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;if(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(e=t.length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},i.prototype.no_results=function(e){var t;return t=this.get_no_results_html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.search_field_scale=function(){var e,i,s,n,o,r,l,a;if(this.is_multiple){for(n={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},o=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"],l=0,a=o.length;l<a;l++)s=o[l],n[s]=this.search_field.css(s);return i=t("<div />").css(n),i.text(this.get_search_field_value()),t("body").append(i),r=i.width()+25,i.remove(),e=this.container.outerWidth(),r=Math.min(e-10,r),this.search_field.width(r)}},i.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},i}(i)}).call(this)}).call(t,i(0))},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),n=function(){function t(t){this.toggleSearchTimer=0,this.toggleLoginPanelTimer=0,this.app=document.querySelector(".app"),this.body=document.querySelector("body"),this.element=t,this.$element=e(this.element),this.search=this.element.querySelector(".search-parent"),this.nav=this.element.querySelector(".nav-wrapper"),this.mobileNav=this.element.querySelector(".mobile-navigation"),this.overlay=this.element.querySelector(".overlay"),this.inputWrapper=this.search.querySelector(".input-wrapper"),this.input=this.search.querySelector("input"),this.submitBtn=this.search.querySelector('button[type="submit"]'),this.toggleIdentityMenuBtn=this.element.querySelector("[data-toggle-identity-menu]"),this.identityMenu=this.element.querySelector(".identity-menu"),this.identityMenuFirstMenuItem=this.identityMenu.querySelector(".inbox"),this.currentlyopen=null,this.backgroundPanel=this.element.querySelector(".background-panel"),this.$commSecChoice=this.$element.find("#commsec-login-choices"),this.commSecForm=this.element.querySelector(".login-form"),this.originalAction=this.commSecForm.getAttribute("action"),this.loginPanel=this.element.querySelector(".login-panel"),this.$panel=this.$element.find(".login-panel"),this.$panels=this.$panel.find("[data-panel]"),this.$inputs=this.$panel.find(".input-wrapper"),this.$commsecClientInput=this.$panel.find("#commsec #username"),this.$checkbox=this.$panel.find("input[type=checkbox]")}return t.prototype.init=function(){var t=this;this.nav.setAttribute("data-show","true"),this.search.setAttribute("data-show","false"),this.loginPanel.classList.add("preventTabs"),this.$commSecChoice.chosen({width:"100%",disable_search:!0,placeholder_text_single:"Start in"});var i=this.$commSecChoice[0],s=function(e,s){void 0===s&&(s={selected:i.options[0].value});var n=t.originalAction+"?r="+s.selected;t.commSecForm.setAttribute("action",n)};s(),this.$commSecChoice.on("change",s),this.commSecForm.addEventListener("submit",function(e){e.preventDefault(),t.$commSecChoice.remove(),t.commSecForm.submit()}),this.$element.on("click","[data-toggle-search]",function(){var e="true"===t.nav.getAttribute("data-show");t.toggleSearch(e),t.toggleOverlay(!e,"top-search")}),this.$element.on("click","[data-toggle-rhs]",function(){var e=t.loginPanel.classList.contains("open");t.toggleLoginPanel(!e),t.toggleOverlay(e,"top-rhs")}),this.$element.on("click","[data-toggle-mobile-menu]",function(){var e=t.mobileNav.classList.contains("reveal");t.toggleMobileMenu(e),t.toggleOverlay(e,"top-mobile-menu")}),this.$element.on("click","[data-toggle-identity-menu]",function(){var e=t.identityMenu.classList.contains("shifted");t.toggleIdentityMenu(e),t.toggleOverlay(!e,"top-identity-menu")}),this.overlay.addEventListener("click",function(){switch(t.currentlyopen){case"identity-menu":t.toggleIdentityMenu(!1);break;case"search":t.toggleSearch(!1);break;case"login-panel":t.toggleLoginPanel(!1);break;case"mobile-menu":t.toggleMobileMenu(!0)}t.toggleOverlay(!0,["top-mobile-menu","top-rhs","top-search"])}),this.$element.on("click","[data-panel-toggle]",function(i){i.preventDefault();var s=e(i.target),n=0;if(s.hasClass("commbiz")){var o=t.$panel.find("iframe.commbiz-login");o.removeAttr("src"),o.attr("src",s.attr("data-iframe-src")),n=300}setTimeout(function(){s.addClass("active"),s.parent("li").siblings().children().removeClass("active");var e=s.parent("li").index();t.$panels.eq(e).addClass("active").siblings().removeClass("active")},n)}),this.$inputs.each(function(e,i){t.inputAnimate(i)}),this.$checkbox.on("change",function(e){var i=e.target;t.storeInputVal(t.$commsecClientInput,i.checked,"commsec-client-number")}),this.getInputVal(this.$commsecClientInput,this.$checkbox,"commsec-client-number"),this.setupSearch()},t.prototype.toggleIdentityMenu=function(e){var t=this;if(e){this.currentlyopen="identity-menu",this.identityMenu.classList.remove("shifted");this.toggleIdentityMenuBtn.setAttribute("aria-expanded","true"),this.identityMenuFirstMenuItem.focus(),this.identityMenu.addEventListener("keydown",function(e){27===e.keyCode&&(t.toggleIdentityMenu(!1),t.toggleIdentityMenuBtn.focus())})}else this.currentlyopen=null,this.toggleIdentityMenuBtn.removeAttribute("aria-expanded"),this.identityMenu.classList.add("active"),setTimeout(function(){t.identityMenu.classList.add("shifted"),t.identityMenu.classList.remove("active")},700)},t.prototype.setupSearch=function(){var t=e(this.input),i=function(e){e.preventDefault();var i=t.val();if(!i.trim()||"Search"===i.trim())return!1;var n=s.maskNumbers(i,7,"X");s.redirectToSearchPage(n,null,null,"&ei=nav-search")};this.submitBtn.addEventListener("click",i),t.autocompleteheader&&t.autocompleteheader({limit:10,format:"rich",position:{my:"left top",at:"left bottom",collision:"none"}})},t.prototype.toggleSearch=function(e){var t=this;e?(this.toggleSearchTimer&&clearTimeout(this.toggleSearchTimer),this.search.classList.remove("preventTabs"),this.currentlyopen="search",this.input.focus(),this.search.setAttribute("data-show","true"),this.nav.setAttribute("data-show","false"),this.search.classList.add("show"),this.search.classList.remove("hide"),this.nav.classList.remove("show"),this.nav.classList.add("hide"),this.nav.classList.add("show-search"),this.backgroundPanel.classList.remove("show"),this.backgroundPanel.classList.add("hide")):(this.currentlyopen=null,this.nav.setAttribute("data-show","true"),this.search.setAttribute("data-show","false"),this.nav.classList.add("show"),this.nav.classList.remove("hide"),setTimeout(function(){t.nav.classList.remove("show-search")},800),this.backgroundPanel.classList.add("show"),this.backgroundPanel.classList.remove("hide"),this.search.classList.remove("show"),this.search.classList.add("hide"),this.toggleSearchTimer=setTimeout(function(){t.nav.classList.remove("show"),t.backgroundPanel.classList.remove("show"),t.search.classList.add("preventTabs"),t.nav.querySelector(".utilities .search [data-toggle-search]").focus()},1e3))},t.prototype.toggleLoginPanel=function(t){var i=this,s=e(this.loginPanel);if(t){this.toggleLoginPanelTimer&&clearTimeout(this.toggleLoginPanelTimer),this.loginPanel.classList.remove("preventTabs"),setTimeout(function(){i.currentlyopen="login-panel",i.app.classList.add("block-scroll"),i.loginPanel.classList.add("open"),s.css("right",0)});var n=s.find("iframe.netbank-login");!n.length||void 0!==n.attr("src")&&0!==n.attr("src").length||(n.on("load",function(){var t=null;window.addEventListener("message",function(i){if("string"==typeof i.data){var s=i.data.match(/MaintenancePageHeight=(\d+):(\d+)/);if(s){var o=parseInt(s[1],10),r=parseInt(s[2],10);if(null===t){if(0!==e("[data-maintenance-uniqueid="+o+"]").length)return;t=o,n.attr("data-maintenance-uniqueid",t)}t===o&&(n.height(r),i.source.postMessage("MaintenancePageHeight="+t+":"+r,i.origin))}}},!1)}),n.attr("src",this.element.getAttribute("data-iframe-src"))),e(".inner-wrap").css({overflow:"visible"}),e("body").css({overflow:"hidden"})}else this.currentlyopen=null,this.app.classList.remove("block-scroll"),this.loginPanel.classList.remove("open"),s.css("right",-s.width()),e("body").css({overflow:"auto"}),this.toggleLoginPanelTimer=setTimeout(function(){i.loginPanel.classList.add("preventTabs"),e("[data-toggle-rhs]",i.element).focus()},1e3)},t.prototype.toggleMobileMenu=function(e){var t=this;e?(this.currentlyopen=null,this.app.classList.remove("block-scroll"),this.mobileNav.classList.remove("reveal"),this.nav.classList.remove("mobile-hide"),this.nav.classList.add("mobile-show"),this.backgroundPanel.classList.remove("mobile-icon-hide"),this.backgroundPanel.classList.add("mobile-icon-show"),setTimeout(function(){t.nav.classList.remove("mobile-show"),t.backgroundPanel.classList.remove("mobile-icon-show"),t.mobileNav.classList.remove("transition")},1e3)):(this.currentlyopen="mobile-menu",this.app.classList.add("block-scroll"),this.mobileNav.classList.add("reveal"),this.mobileNav.classList.add("transition"),this.nav.classList.add("mobile-hide"),this.nav.classList.remove("mobile-show"),this.backgroundPanel.classList.add("mobile-icon-hide"),this.backgroundPanel.classList.remove("mobile-icon-show"))},t.prototype.toggleOverlay=function(e,t){var i=this;e?(this.body.classList.remove("cover"),this.body.classList.remove(t),Array.isArray(t)?t.forEach(function(e){i.body.classList.remove(e)}):this.body.classList.remove(t),this.body.classList.add("no-cover")):(this.body.classList.add("cover"),this.body.classList.add(t),this.body.classList.remove("no-cover"))},t.prototype.inputAnimate=function(t){t=e(t);var i=t.children("input"),s=function(e){e?t.addClass("show"):t.removeClass("show")};i.keyup(function(){s(i.val().length>0)}),i.val()&&s(i.val().length>0)},t.prototype.storeInputVal=function(e,t,i){t?(e.on("keyup",function(){localStorage.setItem(i,e.val())}),localStorage.setItem(i,e.val())):(e.off("keyup"),localStorage.setItem(i,""))},t.prototype.getInputVal=function(t,i,s){var n=localStorage.getItem(s);n&&(e(t).val(n),e(t).parent(".input-wrapper").addClass("show"),i.prop("checked",!0),i.attr("checked",!0))},t}();t.GlobalNavigation=n}).call(t,i(0))},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var s=i(5),n=i(8);i(9),e(function(){for(var e=document.querySelectorAll(".glo-nav"),t=document.querySelectorAll(".glo-nav [data-cb3-tooltip]"),i=0;i<e.length;i++){new s.GlobalNavigation(e[i]).init()}for(var i=0;i<t.length;i++){new n.Tooltip(t[i]).init()}})}).call(t,i(0))},function(e,t,i){"use strict";function s(e,t,i){var s=e.match(/\d/g);return s&&s.length>=t&&(e=e.replace(/\d/g,i)),e}function n(e){var t=document.createElement("a");t.setAttribute("href",e);var i={protocol:t.protocol,host:t.hostname,path:t.pathname,querystring:t.search.match(/(([^=\?&]+)=?([^&]+)?)/g),hash:t.hash};"80"!==t.port&&"443"!==t.port&&(i.port=t.port);var s={};for(var n in i.querystring)if(!isNaN(Number(n))){var o=i.querystring[n].match(/([^=]+)=?(.*)?/);o&&(s[o[1]]=o[2])}return i.querystring=s,i}function o(e,t,i,s){var o="/search/searchresults.html";if(e=e.replace(/[^a-zA-Z0-9]/g,"").match(/\d{7}/)?e.replace(/\d/g,"X"):e,o+="?query="+encodeURIComponent(e),o+=t?"&filter="+t:"",void 0===i){var r=n(window.location.href);r.querystring.site&&(o+="&site="+r.querystring.site)}else""!==i&&null!==i&&(o+="&site="+i);o+=s?s:"",window.location.href=o}Object.defineProperty(t,"__esModule",{value:!0}),t.maskNumbers=s,t.urlObject=n,t.redirectToSearchPage=o},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(t){var i=this;this._visible=!1,this.element=t;var s=t.getAttribute("data-cb3-tooltip");this.content=document.querySelector("[data-cb3-tooltip-content="+s+"]"),this.toggle=function(t){t?e(i.content).addClass("show"):e(i.content).removeClass("show")}}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,this.toggle(e))},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this,i=this.element.getAttribute("data-default"),s=document.createElement("a");s.href="#",e(s).addClass("close-tooltip"),e(s).addClass("icon-cross"),this.content.insertBefore(s,this.content.firstChild),e(this.content).remove(),this.visible=!1,this.element.appendChild(this.content),e(document).on("click",function(s){if(t.visible)if(i){if(s.target===t.element)return;if(s.target===t.element.previousElementSibling)return;if(e(s.target).parents(".cb3-tooltip").length)return;if(e(s.target).hasClass("cb3-tooltip")&&e(s.target).hasClass("show"))return;t.visible=!1}else s.target.getAttribute("data-cb3-tooltip")!==t.element.getAttribute("data-cb3-tooltip")&&(t.visible=!1)}),e(this.element).on("click",function(e){if(e.target!==t.element)return void e.preventDefault();i?setTimeout(function(){var e=t.element.previousElementSibling;t.visible=e.checked}):(e.preventDefault(),t.visible=!t.visible)}),e(s).on("click",function(e){e.preventDefault(),t.visible=!1})},t}();t.Tooltip=i}).call(t,i(0))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(0),i(4),i(3),i(2)},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),i(0);var s=function(){function t(t){this.$scrollToTopButton=e(t),this.$scrollToTopButton.length&&this.scrollToTop()}return t.prototype.scrollToTop=function(){this.$scrollToTopButton.on("click",function(t){t.preventDefault(),e("html,body").animate({scrollTop:0},1e3)})},t}();t.default=s}).call(t,i(0))},function(e,t,i){e.exports=i(1)}]);